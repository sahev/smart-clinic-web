(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ca8498c"],{"1dac":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticClass:"mb-0"},[t._v("Sign in")]),e("p",[t._v("Enter your email address and password to access admin panel.")]),e("sign-in1-form",{attrs:{formType:"jwt"}})],1)},i=[],n=s("b0af"),r=function(){var t=this,e=t._self._c;return e("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:s}){return[e("form",{staticClass:"mt-4",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),s(t.onSubmit)}}},[e("ValidationProvider",{attrs:{vid:"email",name:"E-mail",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"emailInput"}},[t._v("Email address")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],class:"form-control mb-0"+(s.length>0?" is-invalid":""),attrs:{type:"email",id:"emailInput","aria-describedby":"emailHelp",placeholder:"Enter email",required:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[e("span",[t._v(t._s(s[0]))])])])]}}],null,!0)}),e("ValidationProvider",{attrs:{vid:"password",name:"Password",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"passwordInput"}},[t._v("Password")]),e("router-link",{staticClass:"float-right",attrs:{to:"/auth/password-reset1"}},[t._v(" Forgot password? ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],class:"form-control mb-0"+(s.length>0?" is-invalid":""),attrs:{type:"password",id:"passwordInput",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[e("span",{attrs:{id:"crederror"}},[t._v(t._s(s[0]))])])],1)]}}],null,!0)}),e("div",{staticClass:"d-inline-block w-100"},[e("div",{staticClass:"custom-control custom-checkbox d-inline-block mt-2 pt-1"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:t.formType}}),e("label",{staticClass:"custom-control-label",attrs:{for:t.formType}},[t._v("Remember Me")])]),e("button",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"}},[t._v(" "+t._s(t.spinner?"":"Sign in")+" "),t.spinner?e("b-spinner",{attrs:{small:"",label:"loading"}}):t._e()],1)]),e("div",{staticClass:"sign-info"},[e("span",{staticClass:"dark-color d-inline-block line-height-2"},[t._v(" Don't have an account? "),t.$route.meta.dark?e("router-link",{staticClass:"iq-waves-effect pr-4",attrs:{to:"/dark/auth/clinic-sign-up"}},[t._v(" Sign up ")]):e("router-link",{staticClass:"iq-waves-effect pr-4",attrs:{to:"/auth/clinic-sign-up"}},[t._v(" Sign up ")])],1)])],1)]}}])})},o=[],l=s("2f62"),c=s("6bf2"),d=s("93d6"),u=s("8925"),m=s("0be0"),p={name:"SignIn1Form",props:["formType","email","password"],data:()=>({user:{email:"",password:""},host:window.location.hostname+(""!==window.location.port?":"+window.location.port:""),protocol:window.location.protocol,spinner:!1}),mounted(){},computed:{...Object(l["c"])({stateUsers:"Setting/usersState",userState:"User/userState",accessToken:"Auth/authToken"})},methods:{...Object(l["b"])({setLoggedIn:"Auth/setToken",setUserState:"User/setUserState",setClinicState:"Clinic/setClinicState",setClinicalUnitsState:"Clinic/setClinicalUnitsState"}),async onSubmit(){await this.login()},async login(){this.spinner=!0;let t=await c["a"].login(this.user);if(console.log(t),t){this.setLoggedIn(t.data.accessToken);let{id:e,clinicId:s}=m["a"].jwtToObject(t.data.accessToken),a=await d["a"].getById(e),i=await u["a"].getById(s);this.setUserState(a.data),this.setClinicState(i.data),this.setClinicalUnitsState(i.data.clinicalUnits),this.$router.push({name:"dashboard.home-1"})}else document.getElementById("emailInput").className+=" is-invalid",document.getElementById("passwordInput").className+=" is-invalid",document.getElementById("crederror").innerHTML=" Invalid Credentials",this.spinner=!1}}},v=p,f=s("2877"),h=Object(f["a"])(v,r,o,!1,null,null,null),g=h.exports,b=s("358c"),w={name:"SignIn1",components:{SignIn1Form:g},data:()=>({}),mounted(){const t=localStorage.getItem("access_token");void 0!==t&&null!==t&&this.$router.push({name:"mini.dashboard.home-2"})},methods:{loginOAuth0:function(){new n["a"].WebAuth(b["a"].auth0Config).authorize()}}},S=w,C=Object(f["a"])(S,a,i,!1,null,null,null);e["default"]=C.exports},"6bf2":function(t,e,s){"use strict";var a=s("dde5");e["a"]={login(t){return a["a"].post("/auth/login",t).catch(()=>!1)},register(t){return a["a"].post("/auth/register",t)}}}}]);
//# sourceMappingURL=chunk-4ca8498c.abfcb0e3.js.map