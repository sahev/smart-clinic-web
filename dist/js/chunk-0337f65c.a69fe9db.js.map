{"version":3,"sources":["webpack:///./src/views/Apps/Calendar/form/CalendarForm.vue?f834","webpack:///./src/views/Apps/Calendar/Calendar.vue?5cbf","webpack:///./src/views/Apps/Calendar/form/CalendarForm.vue?e084","webpack:///src/views/Apps/Calendar/form/CalendarForm.vue","webpack:///./src/views/Apps/Calendar/form/CalendarForm.vue?94da","webpack:///./src/views/Apps/Calendar/form/CalendarForm.vue","webpack:///src/views/Apps/Calendar/Calendar.vue","webpack:///./src/views/Apps/Calendar/Calendar.vue?c662","webpack:///./src/views/Apps/Calendar/Calendar.vue","webpack:///./src/views/Apps/Calendar/Calendar.vue?32dc"],"names":["render","_vm","this","_c","_self","attrs","staticClass","scopedSlots","_u","key","fn","config","Date","now","on","$event","goToDate","date","model","value","callback","$$v","expression","proxy","_v","directives","name","rawName","domProps","target","composing","searchText","indeterminate","toggleAll","allSelected","_s","ariaDescribedby","_l","option","fullName","color","toggleEventFilter","selected","getDayEvents","event","id","title","getPeriodConsult","showModal","onDateClick","onDateClickEvent","staticRenderFns","day","month","year","$set","allDay","staff","outTime","hideModal","remove","save","props","groupId","start","end","url","classNames","display","backgroundColor","borderColor","overlap","startEditable","durationEditable","resourceEditable","textColor","extendedProps","staffs","selectedStaff","getAllStaffs","watch","newEvent","console","log","eventFind","events","filter","cloneObject","startDate","startStr","toISOString","split","dateStr","setMinutes","getMinutes","toLocaleTimeString","methods","deleteEvent","createEvent","updateEvent","data","user","getAllByHeadQuarterId","clinicState","parseListStaffs","firstName","lastName","map","parseStaff","Math","random","$bvModal","hide","computed","component","components","CalendarForm","inline","showForm","index","showEvents","newValue","oldValue","length","filteredList","item","normalize","replace","toLowerCase","includes","selecteds","hiddenEvents","checked","slice","staffId","window","document","getElementsByClassName","Array","from","forEach","el","classList","add","e","isDefault","show","dayEvents","today","getDate","endDate","startTime","getTime","endTime","dt","h","getHours","m","checkTime","i"],"mappings":"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","file":"js/chunk-0337f65c.a69fe9db.js","sourcesContent":["export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarForm.vue?vue&type=style&index=0&id=fd224664&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"3\"}},[_c('iq-card',{staticClass:\"calender-small\",scopedSlots:_vm._u([{key:\"body\",fn:function(){return [_c('flat-pickr',{staticClass:\"d-none\",attrs:{\"config\":_vm.config,\"value\":Date.now()},on:{\"on-change\":function($event){return _vm.goToDate(_vm.date)}},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})]},proxy:true}])}),_c('iq-card',{scopedSlots:_vm._u([{key:\"headerTitle\",fn:function(){return [_c('h4',{staticClass:\"card-title\"},[_vm._v(\"Doctors\")])]},proxy:true},{key:\"headerAction\",fn:function(){return [_c('div',{staticClass:\"iq-search-bar\"},[_c('form',{attrs:{\"action\":\"#\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchText),expression:\"searchText\"}],staticClass:\"search-input\",attrs:{\"id\":\"search\",\"type\":\"text\",\"placeholder\":\"Type here to search...\"},domProps:{\"value\":(_vm.searchText)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchText=$event.target.value}}})])])]},proxy:true}])},[_c('b-form-group',{scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('ul',[_c('b-form-checkbox',{staticClass:\"m-0 p-0 job-classification\",attrs:{\"indeterminate\":_vm.indeterminate,\"aria-describedby\":\"fullName\",\"aria-controls\":\"fullName\"},on:{\"change\":_vm.toggleAll},model:{value:(_vm.allSelected),callback:function ($$v) {_vm.allSelected=$$v},expression:\"allSelected\"}},[_vm._v(\" \"+_vm._s(_vm.allSelected ? 'Un-select All' : 'Select All')+\" \")]),_c('b-form-group',{scopedSlots:_vm._u([{key:\"default\",fn:function({ ariaDescribedby }){return _vm._l((_vm.filteredList),function(option){return _c('b-checkbox',{key:option.fullName,staticClass:\"custom-checkbox-color-check\",attrs:{\"color\":option.color,\"value\":option,\"aria-describedby\":ariaDescribedby,\"stacked\":\"\"},on:{\"change\":_vm.toggleEventFilter},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},[_vm._v(\" \"+_vm._s(option.fullName)+\" \")])})}}])})],1)]},proxy:true}])})],1),_c('iq-card',{scopedSlots:_vm._u([{key:\"headerTitle\",fn:function(){return [_c('h4',{staticClass:\"card-title\"},[_vm._v(\"Today's Schedule\")])]},proxy:true},{key:\"body\",fn:function(){return [_c('ul',{staticClass:\"m-0 p-0 today-schedule\"},_vm._l((_vm.getDayEvents()),function(event){return _c('li',{key:event.id,staticClass:\"d-flex\"},[_c('div',{staticClass:\"schedule-icon\"},[_c('i',{staticClass:\"ri-checkbox-blank-circle-fill text-primary\"})]),_c('div',{staticClass:\"schedule-text\"},[_c('span',[_vm._v(_vm._s(event.title))]),_c('span',[_vm._v(_vm._s(_vm.getPeriodConsult(event)))])])])}),0)]},proxy:true}])})],1),_c('b-col',{attrs:{\"md\":\"9\"}},[_c('iq-card',{scopedSlots:_vm._u([{key:\"headerTitle\",fn:function(){return [_c('h4',{staticClass:\"card-title\"},[_vm._v(\"Calendar\")])]},proxy:true},{key:\"headerAction\",fn:function(){return [_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.showModal()}}},[_c('i',{staticClass:\"ri-add-line mr-2\"}),_vm._v(\"Book Appointment\")]),_c('CalendarForm',{attrs:{\"onDateClick\":_vm.onDateClick}})]},proxy:true},{key:\"body\",fn:function(){return [_c('FullCalendar',{on:{\"onDateClickEvent\":function($event){return _vm.onDateClickEvent($event)}}})]},proxy:true}])})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-modal',{attrs:{\"hide-footer\":\"\",\"title\":\"Appointment\",\"id\":\"form-calendar-modal\"}},[_c('div',[_c('b-row',{attrs:{\"lg\":\"2\"}},[_c('b-col',[_c('span',[_vm._v(\"day\")]),_c('b-form-datepicker',{attrs:{\"id\":\"example-datepicker\",\"date-format-options\":{ day: 'numeric', month: 'numeric', year: 'numeric' }},model:{value:(_vm.event.startStr),callback:function ($$v) {_vm.$set(_vm.event, \"startStr\", $$v)},expression:\"event.startStr\"}})],1)],1),_c('b-row',{attrs:{\"lg\":\"2\"}},[_c('b-col',[_c('span',[_vm._v(\"start\")]),_c('b-form-timepicker',{attrs:{\"id\":\"hourpicker-start\",\"disabled\":_vm.event.allDay},model:{value:(_vm.event.start),callback:function ($$v) {_vm.$set(_vm.event, \"start\", $$v)},expression:\"event.start\"}})],1),_c('b-col',[_c('span',[_vm._v(\"end\")]),_c('b-form-timepicker',{attrs:{\"id\":\"hourpicker-end\",\"disabled\":_vm.event.allDay},model:{value:(_vm.event.end),callback:function ($$v) {_vm.$set(_vm.event, \"end\", $$v)},expression:\"event.end\"}})],1)],1),_c('b-form-checkbox',{attrs:{\"switch\":\"\"},model:{value:(_vm.event.allDay),callback:function ($$v) {_vm.$set(_vm.event, \"allDay\", $$v)},expression:\"event.allDay\"}},[_vm._v(\" All Day \")]),_c('span',[_vm._v(\"groupId\")]),_c('b-form-input',{attrs:{\"placeholder\":\"groupId\"},model:{value:(_vm.event.groupId),callback:function ($$v) {_vm.$set(_vm.event, \"groupId\", $$v)},expression:\"event.groupId\"}}),_c('span',[_vm._v(\"title\")]),_c('b-form-input',{attrs:{\"placeholder\":\"title\"},model:{value:(_vm.event.title),callback:function ($$v) {_vm.$set(_vm.event, \"title\", $$v)},expression:\"event.title\"}}),_c('span',[_vm._v(\"Doctor\")]),_c('b-select',{attrs:{\"plain\":\"\"},scopedSlots:_vm._u([{key:\"first\",fn:function(){return [_c('b-form-select-option',{attrs:{\"value\":null,\"disabled\":\"\"}},[_vm._v(\"Select the doctor\")])]},proxy:true}]),model:{value:(_vm.event.staff),callback:function ($$v) {_vm.$set(_vm.event, \"staff\", $$v)},expression:\"event.staff\"}},_vm._l((this.staffs),function(staff){return _c('b-select-option',{key:staff.id,attrs:{\"value\":staff}},[_vm._v(_vm._s(staff.fullName))])}),1),_c('span',[_vm._v(\"url\")]),_c('b-form-input',{attrs:{\"placeholder\":\"url\"},model:{value:(_vm.event.url),callback:function ($$v) {_vm.$set(_vm.event, \"url\", $$v)},expression:\"event.url\"}}),_c('span',[_vm._v(\"classNames\")]),_c('b-form-input',{attrs:{\"placeholder\":\"classNames\"},model:{value:(_vm.event.classNames),callback:function ($$v) {_vm.$set(_vm.event, \"classNames\", $$v)},expression:\"event.classNames\"}}),_c('span',[_vm._v(\"backgroundColor\")]),_c('b-form-input',{attrs:{\"placeholder\":\"backgroundColor\"},model:{value:(_vm.event.backgroundColor),callback:function ($$v) {_vm.$set(_vm.event, \"backgroundColor\", $$v)},expression:\"event.backgroundColor\"}}),_c('span',[_vm._v(\"borderColor\")]),_c('b-form-input',{attrs:{\"placeholder\":\"borderColor\"},model:{value:(_vm.event.borderColor),callback:function ($$v) {_vm.$set(_vm.event, \"borderColor\", $$v)},expression:\"event.borderColor\"}}),_c('span',[_vm._v(\"textColor\")]),_c('b-form-input',{attrs:{\"placeholder\":\"textColor\"},model:{value:(_vm.event.textColor),callback:function ($$v) {_vm.$set(_vm.event, \"textColor\", $$v)},expression:\"event.textColor\"}}),_c('b-form-checkbox',{attrs:{\"switch\":\"\"},model:{value:(_vm.outTime),callback:function ($$v) {_vm.outTime=$$v},expression:\"outTime\"}},[_vm._v(\" out time \")]),_c('b-form-checkbox',{attrs:{\"switch\":\"\"},model:{value:(_vm.event.resourceEditable),callback:function ($$v) {_vm.$set(_vm.event, \"resourceEditable\", $$v)},expression:\"event.resourceEditable\"}},[_vm._v(\" resourceEditable \")]),_c('b-form-checkbox',{attrs:{\"switch\":\"\"},model:{value:(_vm.event.startEditable),callback:function ($$v) {_vm.$set(_vm.event, \"startEditable\", $$v)},expression:\"event.startEditable\"}},[_vm._v(\" startEditable \")]),_c('b-form-checkbox',{attrs:{\"switch\":\"\"},model:{value:(_vm.event.durationEditable),callback:function ($$v) {_vm.$set(_vm.event, \"durationEditable\", $$v)},expression:\"event.durationEditable\"}},[_vm._v(\" durationEditable \")])],1),_c('b-row',{staticClass:\"text-center float-right\"},[_c('b-button',{staticClass:\"mt-2\",attrs:{\"variant\":\"outline-warning\"},on:{\"click\":_vm.hideModal}},[_vm._v(\"Close\")]),_c('b-button',{staticClass:\"mt-2\",attrs:{\"variant\":\"outline-danger\"},on:{\"click\":_vm.remove}},[_vm._v(\"Remove\")]),_c('b-button',{staticClass:\"mt-2\",attrs:{\"variant\":\"success \"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-modal hide-footer title=\"Appointment\" id=\"form-calendar-modal\">\r\n      <div>\r\n        <b-row lg=\"2\">\r\n          <b-col>\r\n            <span>day</span>\r\n            <b-form-datepicker id=\"example-datepicker\" v-model=\"event.startStr\"\r\n              :date-format-options=\"{ day: 'numeric', month: 'numeric', year: 'numeric' }\"></b-form-datepicker>\r\n\r\n          </b-col>\r\n\r\n        </b-row>\r\n\r\n\r\n        <b-row lg=\"2\">\r\n          <!-- <b-col>\r\n            <span>end</span>\r\n            <b-form-datepicker  id=\"example-datepickere\" v-model=\"event.endStr\" :disabled=\"event.allDay\"\r\n              :date-format-options=\"{ day: 'numeric', month: 'numeric', year: 'numeric' }\"></b-form-datepicker>\r\n          </b-col> -->\r\n\r\n\r\n          <b-col>\r\n\r\n            <span>start</span>\r\n            <b-form-timepicker id=\"hourpicker-start\" v-model=\"event.start\" :disabled=\"event.allDay\"></b-form-timepicker>\r\n          </b-col>\r\n\r\n          <b-col>\r\n            <span>end</span>\r\n            <b-form-timepicker id=\"hourpicker-end\" v-model=\"event.end\" :disabled=\"event.allDay\"></b-form-timepicker>\r\n\r\n          </b-col>\r\n\r\n        </b-row>\r\n        <b-form-checkbox v-model=\"event.allDay\" switch>\r\n          All Day\r\n        </b-form-checkbox>\r\n\r\n        <span>groupId</span>\r\n        <b-form-input v-model=\"event.groupId\" placeholder=\"groupId\"></b-form-input>\r\n\r\n        <span>title</span>\r\n        <b-form-input v-model=\"event.title\" placeholder=\"title\"></b-form-input>\r\n\r\n        <span>Doctor</span>\r\n        <b-select plain v-model=\"event.staff\">\r\n          <template #first>\r\n            <b-form-select-option :value=\"null\" disabled>Select the doctor</b-form-select-option>\r\n          </template>\r\n\r\n          <b-select-option v-for=\"staff in this.staffs\" :value=\"staff\" :key=\"staff.id\">{{ staff.fullName }}</b-select-option>\r\n        </b-select>\r\n\r\n        <span>url</span>\r\n        <b-form-input v-model=\"event.url\" placeholder=\"url\"></b-form-input>\r\n\r\n        <span>classNames</span>\r\n        <b-form-input v-model=\"event.classNames\" placeholder=\"classNames\"></b-form-input>\r\n\r\n        <span>backgroundColor</span>\r\n        <b-form-input v-model=\"event.backgroundColor\" placeholder=\"backgroundColor\"></b-form-input>\r\n\r\n        <span>borderColor</span>\r\n        <b-form-input v-model=\"event.borderColor\" placeholder=\"borderColor\"></b-form-input>\r\n\r\n        <span>textColor</span>\r\n        <b-form-input v-model=\"event.textColor\" placeholder=\"textColor\"></b-form-input>\r\n\r\n        <b-form-checkbox v-model=\"outTime\" switch>\r\n          out time\r\n        </b-form-checkbox>\r\n\r\n        <b-form-checkbox v-model=\"event.resourceEditable\" switch>\r\n          resourceEditable\r\n        </b-form-checkbox>\r\n\r\n        <b-form-checkbox v-model=\"event.startEditable\" switch>\r\n          startEditable\r\n        </b-form-checkbox>\r\n\r\n        <b-form-checkbox v-model=\"event.durationEditable\" switch>\r\n          durationEditable\r\n        </b-form-checkbox>\r\n\r\n      </div>\r\n      <b-row class=\"text-center float-right\">\r\n        <b-button class=\"mt-2\" variant=\"outline-warning\" @click=\"hideModal\">Close</b-button>\r\n        <b-button class=\"mt-2\" variant=\"outline-danger\" @click=\"remove\">Remove</b-button>\r\n        <b-button class=\"mt-2\" variant=\"success \" @click=\"save\">Save</b-button>\r\n      </b-row>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex'\r\nimport usersService from '../../../../services/user'\r\n\r\nexport default {\r\n  props: ['onDateClick'],\r\n  data () {\r\n    return {\r\n      event: {\r\n        groupId: null,\r\n        allDay: false,\r\n        start: null,\r\n        end: null,\r\n        title: null,\r\n        url: null,\r\n        classNames: null,\r\n        display: null,\r\n        backgroundColor: null,\r\n        borderColor: null,\r\n        overlap: false,\r\n        startEditable: true,\r\n        durationEditable: true,\r\n        resourceEditable: true,\r\n        textColor: null,\r\n        extendedProps: {\r\n          staff: {\r\n            fullName: ''\r\n          }\r\n        }\r\n      },\r\n      staffs: [],\r\n      selectedStaff: null,\r\n      outTime: false\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getAllStaffs()\r\n  },\r\n  watch: {\r\n    onDateClick (newEvent) {\r\n      console.log('event form', newEvent)\r\n      if (newEvent.id) {\r\n        let eventFind = this.events.filter(event => event.id == newEvent.id)[0]\r\n        this.event = this.cloneObject(eventFind)\r\n        console.log('exist', this.event);\r\n      } else {\r\n        this.event = this.cloneObject(newEvent)\r\n        this.event.allDay = false;\r\n        console.log('new', this.event);\r\n      }\r\n\r\n      let startDate = newEvent.startStr ? new Date(newEvent.startStr).toISOString().split('T')[0] : this.event.dateStr\r\n      this.event.startStr = startDate\r\n\r\n      if (!newEvent.allDay) {\r\n        console.log(this.event.end, 'ned');\r\n        let start = new Date(this.event.start ? this.event.start : this.event.startStr)\r\n        let end = new Date(this.event.end ? this.event.end : new Date(this.event.startStr).setMinutes(start.getMinutes() + 30))\r\n\r\n        console.log(start, end, 'aqui')\r\n\r\n        this.event.start = start.toLocaleTimeString()\r\n        this.event.end = end.toLocaleTimeString()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      deleteEvent: 'Calendar/deleteEvent',\r\n      createEvent: 'Calendar/createEvent',\r\n      updateEvent: 'Calendar/updateEvent'\r\n    }),\r\n    async getAllStaffs () {\r\n      let { data } = await usersService.getAllByHeadQuarterId(this.clinicState.id)\r\n      this.staffs = this.parseListStaffs(data)\r\n    },\r\n    parseStaff (staff) {\r\n      staff.fullName = staff.firstName + ' ' + staff.lastName\r\n      return staff\r\n    },\r\n    parseListStaffs (staffs) {\r\n      return staffs.map(staff => this.parseStaff(staff))\r\n    },\r\n    save () {\r\n      console.log('save evevent', this.event);\r\n\r\n      this.event.classNames = 'event-' + this.event.staff.id\r\n\r\n      if (!this.event.allDay) {\r\n        this.event.start = this.event.start ? new Date(this.event.startStr.split('T', 1) + 'T' + this.event.start).toISOString() : this.event.dateStr\r\n        this.event.end = this.event.start ? new Date(this.event.startStr.split('T', 1) + 'T' + this.event.end).toISOString() : this.event.dateStr\r\n      }\r\n\r\n      if (this.outTime) {\r\n        this.event.overlap = false\r\n        this.event.display = 'background'\r\n      }\r\n\r\n      if (this.event.id) {\r\n        this.updateEvent(this.event)\r\n      } else {\r\n        this.event.id = Math.random() * 2\r\n        this.createEvent(this.event)\r\n      }\r\n\r\n      this.hideModal()\r\n    },\r\n    remove () {\r\n      this.hideModal()\r\n      this.deleteEvent(this.onDateClick.id)\r\n    },\r\n    hideModal () {\r\n      this.$bvModal.hide('form-calendar-modal')\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      clinicState: 'Clinic/clinicState',\r\n      events: 'Calendar/events'\r\n    })\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n .b-form-spinbutton output>div,\r\n.b-form-spinbutton output>bdi {\r\n  min-width: 2.25em;\r\n}\r\n[dir=ltr] .form-control {\r\n    display: flex;\r\n    padding: 0;\r\n    height: 45px !important;\r\n  }\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalendarForm.vue?vue&type=template&id=fd224664&scoped=true&\"\nimport script from \"./CalendarForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CalendarForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CalendarForm.vue?vue&type=style&index=0&id=fd224664&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fd224664\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <b-container fluid>\r\n    <b-row>\r\n      <b-col md=\"3\">\r\n        <iq-card class=\"calender-small\">\r\n          <template v-slot:body>\r\n            <flat-pickr :config=\"config\" :value=\"Date.now()\" v-model=\"date\" @on-change=\"goToDate(date)\" class=\"d-none\" />\r\n          </template>\r\n        </iq-card>\r\n        <iq-card>\r\n          <template v-slot:headerTitle>\r\n            <h4 class=\"card-title \">Doctors</h4>\r\n          </template>\r\n          <template v-slot:headerAction>\r\n            <div class=\"iq-search-bar\">\r\n              <form action=\"#\">\r\n                <input id=\"search\" v-model=\"searchText\" type=\"text\" class=\"search-input\"\r\n                  placeholder=\"Type here to search...\">\r\n              </form>\r\n            </div>\r\n          </template>\r\n\r\n          <b-form-group>\r\n            <template #label v-slot:body>\r\n              <ul>\r\n                <b-form-checkbox class=\"m-0 p-0 job-classification\" v-model=\"allSelected\" :indeterminate=\"indeterminate\"\r\n                  aria-describedby=\"fullName\" aria-controls=\"fullName\" @change=\"toggleAll\">\r\n                  {{ allSelected ? 'Un-select All' : 'Select All' }}\r\n                </b-form-checkbox>\r\n                <b-form-group v-slot=\"{ ariaDescribedby }\">\r\n                  <b-checkbox v-for=\"option in filteredList\" v-model=\"selected\" class=\"custom-checkbox-color-check\"\r\n                    @change=\"toggleEventFilter\" :color=\"option.color\" :key=\"option.fullName\" :value=\"option\"\r\n                    :aria-describedby=\"ariaDescribedby\" stacked>\r\n                    {{ option.fullName }}\r\n                  </b-checkbox>\r\n                </b-form-group>\r\n              </ul>\r\n\r\n            </template>\r\n          </b-form-group>\r\n        </iq-card>\r\n        <iq-card>\r\n          <template v-slot:headerTitle>\r\n            <h4 class=\"card-title\">Today's Schedule</h4>\r\n          </template>\r\n          <template v-slot:body>\r\n            <ul class=\"m-0 p-0 today-schedule\">\r\n              <li class=\"d-flex\" v-for=\"event in getDayEvents()\" :key=\"event.id\">\r\n                <div class=\"schedule-icon\"><i class=\"ri-checkbox-blank-circle-fill text-primary\" /></div>\r\n                <div class=\"schedule-text\"> <span>{{ event.title }}</span>\r\n                  <span>{{ getPeriodConsult(event) }}</span>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </template>\r\n        </iq-card>\r\n      </b-col>\r\n      <b-col md=\"9\">\r\n        <iq-card>\r\n          <template v-slot:headerTitle>\r\n            <h4 class=\"card-title\">Calendar</h4>\r\n          </template>\r\n          <template v-slot:headerAction>\r\n            <b-button @click=\"showModal()\" variant=\"primary\"><i class=\"ri-add-line mr-2\"></i>Book Appointment</b-button>\r\n            <CalendarForm :onDateClick=\"onDateClick\" />\r\n          </template>\r\n          <template v-slot:body>\r\n            <FullCalendar @onDateClickEvent=\"onDateClickEvent($event)\" />\r\n          </template>\r\n        </iq-card>\r\n      </b-col>\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex'\r\nimport { xray } from '../../../config/pluginInit'\r\nimport CalendarForm from './form/CalendarForm.vue'\r\nimport usersService from '../../../services/user'\r\n\r\nexport default {\r\n  name: 'Calendar',\r\n  components: {\r\n    CalendarForm\r\n  },\r\n  data () {\r\n    return {\r\n      config: {\r\n        inline: true,\r\n      },\r\n      showForm: false,\r\n      onDateClick: null,\r\n      date: null,\r\n      selected: [],\r\n      // staffs: [\r\n      //   { id: 1, name: 'João Araújo', color: 'primary' },\r\n      //   { id: 2, name: 'Alan Araújo', color: 'info' },\r\n      //   { id: 3, name: 'Sara Araújo', color: 'warning' },\r\n      //   { id: 4, name: 'maria Araújo', color: 'primary' },\r\n      //   { id: 5, name: 'teste Araújo', color: 'info' },\r\n      //   { id: 6, name: 'function Araújo', color: 'warning' },\r\n      //   { id: 7, name: 'fulano Araújo', color: 'primary' },\r\n      //   { id: 8, name: 'sico Araújo', color: 'info' },\r\n      //   { id: 9, name: 'pelé Araújo', color: 'warning' },\r\n      // ],\r\n      staffs: [],\r\n      allSelected: true,\r\n      indeterminate: false,\r\n      searchText: '',\r\n\r\n    }\r\n  },\r\n  created () {\r\n\r\n  },\r\n  mounted () {\r\n    xray.index()\r\n    this.getAllStaffs()\r\n    this.showEvents(null, true)\r\n  },\r\n  watch: {\r\n    selected (newValue, oldValue) {\r\n      // Handle changes in individual flavour checkboxes\r\n      if (newValue.length === 0) {\r\n        this.indeterminate = false\r\n        this.allSelected = false\r\n      } else if (newValue.length === this.filteredList.length) {\r\n        this.indeterminate = false\r\n        this.allSelected = true\r\n      } else {\r\n        this.indeterminate = true\r\n        this.allSelected = false\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      events: 'Calendar/events',\r\n      clinicState: 'Clinic/clinicState',\r\n    }),\r\n    filteredList () {\r\n      return this.staffs.length > 0 ?\r\n        this.staffs.filter(item => {\r\n          return item.fullName.normalize(\"NFD\").replace(/\\p{Diacritic}/gu, \"\").toLowerCase().includes(this.searchText.toLowerCase())\r\n        })\r\n        : ''\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      goToDate: 'Calendar/goToDate',\r\n      updateEvent: 'Calendar/updateEvent',\r\n    }),\r\n    async getAllStaffs () {\r\n      let { data } = await usersService.getAllByHeadQuarterId(this.clinicState.id)\r\n      this.staffs = this.selected = this.parseListStaffs(data)\r\n    },\r\n    parseStaff (staff) {\r\n      staff.fullName = staff.firstName + ' ' + staff.lastName\r\n\r\n      return staff\r\n    },\r\n    parseListStaffs (staffs) {\r\n      return staffs.map(staff => this.parseStaff(staff))\r\n    },\r\n    toggleEventFilter (selecteds) {\r\n      this.staffs.map(staff => {\r\n        this.hiddenEvents(staff.id)\r\n      })\r\n      selecteds.map(selected => {\r\n        this.showEvents(selected.id)\r\n      })\r\n    },\r\n    toggleAll (checked) {\r\n      this.selected = checked ? this.filteredList.slice() : []\r\n\r\n      if (checked) {\r\n        this.selected.map(selected => {\r\n          this.showEvents(selected.id)\r\n        })\r\n      }\r\n      else {\r\n        this.staffs.map(staff => {\r\n          this.hiddenEvents(staff.id)\r\n        })\r\n      }\r\n    },\r\n    hiddenEvents(staffId) {\r\n      let events = window.document.getElementsByClassName(\"event-\" + staffId)\r\n\r\n      Array.from(events).forEach(el => {\r\n        el.classList.add('hidden-event')\r\n      })\r\n\r\n      this.events.map(event => {\r\n        if (event.classNames == \"event-\" + staffId) {\r\n          let e = this.cloneObject(event)\r\n          e.classNames = \"event-\" + staffId + ' hidden-event'\r\n          console.log('updateevent hide', event.classNames);\r\n          this.updateEvent(e)\r\n        }\r\n      })\r\n\r\n    },\r\n    showEvents(staffId, isDefault = false) {\r\n      if (isDefault) {\r\n        this.events.map(event => {\r\n          let e = this.cloneObject(event)\r\n          e.classNames = \"event-\" + event.staff.id\r\n          this.updateEvent(e)\r\n        })\r\n        return\r\n      }\r\n\r\n      let events = window.document.getElementsByClassName(\"event-\" + staffId)\r\n\r\n      Array.from(events).forEach(el => {\r\n        el.classList.remove('hidden-event')\r\n      })\r\n\r\n      this.events.map(event => {\r\n        if (event.classNames == \"event-\" + staffId + ' hidden-event') {\r\n          let e = this.cloneObject(event)\r\n          e.classNames = \"event-\" + staffId\r\n          console.log('updateevent show', event.title);\r\n          this.updateEvent(e)\r\n        }\r\n      })\r\n    },\r\n    onDateClickEvent (event) {\r\n      this.onDateClick = event\r\n    },\r\n    showModal () {\r\n      this.$bvModal.show('form-calendar-modal')\r\n      console.log('show form');\r\n    },\r\n    getDayEvents () {\r\n      let dayEvents = this.events.filter(event => {\r\n        let today = new Date().getDate()\r\n        let day = new Date(event.start || event.date).getDate()\r\n\r\n        return day === today\r\n      })\r\n\r\n      return dayEvents\r\n    },\r\n    getPeriodConsult (event) {\r\n      if (event.allDay) return 'all day'\r\n\r\n      let startDate = new Date(event.start)\r\n      let endDate = new Date(event.end)\r\n\r\n      let startTime = this.getTime(startDate);\r\n\r\n      let endTime = this.getTime(endDate);\r\n\r\n      return `${startTime} to ${endTime}`\r\n    },\r\n    getTime (dt) {\r\n      var date = new Date(dt);\r\n      var h = date.getHours();\r\n      var m = date.getMinutes();\r\n      h = this.checkTime(h);\r\n      m = this.checkTime(m);\r\n\r\n      return h + ':' + m\r\n    },\r\n\r\n    checkTime (i) {\r\n      if (i < 10) {\r\n        i = \"0\" + i;\r\n      }\r\n      return i;\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.doctor-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Calendar.vue?vue&type=template&id=fa653ca8&scoped=true&\"\nimport script from \"./Calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./Calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Calendar.vue?vue&type=style&index=0&id=fa653ca8&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fa653ca8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&id=fa653ca8&prod&scoped=true&lang=css&\""],"sourceRoot":""}