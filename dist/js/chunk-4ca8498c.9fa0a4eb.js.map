{"version":3,"sources":["webpack:///./src/views/AuthPages/Default/SignIn1.vue?b843","webpack:///./src/views/AuthPages/Default/Forms/SignIn1Form.vue?a45d","webpack:///src/views/AuthPages/Default/Forms/SignIn1Form.vue","webpack:///./src/views/AuthPages/Default/Forms/SignIn1Form.vue?98fc","webpack:///./src/views/AuthPages/Default/Forms/SignIn1Form.vue","webpack:///src/views/AuthPages/Default/SignIn1.vue","webpack:///./src/views/AuthPages/Default/SignIn1.vue?d443","webpack:///./src/views/AuthPages/Default/SignIn1.vue","webpack:///./src/services/auth.js"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","staticRenderFns","ref","scopedSlots","_u","key","fn","handleSubmit","on","$event","preventDefault","onSubmit","errors","directives","name","rawName","value","user","expression","class","length","domProps","target","composing","$set","_s","formType","$route","meta","components","SocialLoginForm","props","data","email","password","host","window","location","hostname","port","protocol","computed","stateUsers","userState","accessToken","methods","setLoggedIn","setUserState","setClinicState","setClinicalUnitsState","login","console","log","token","auth","id","clinicId","parse","jwtToObject","getById","clinic","clinicalUnits","$router","push","document","getElementById","className","innerHTML","component","SignIn1Form","loggedIn","localStorage","getItem","undefined","loginOAuth0","WebAuth","constant","auth0Config","authorize","userData","post","catch"],"mappings":"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","file":"js/chunk-4ca8498c.9fa0a4eb.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',{staticClass:\"mb-0\"},[_vm._v(\"Sign in\")]),_c('p',[_vm._v(\"Enter your email address and password to access admin panel.\")]),_c('sign-in1-form',{attrs:{\"formType\":\"jwt\",\"email\":\"admin@xray.com\",\"password\":\"admin123\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ValidationObserver',{ref:\"form\",scopedSlots:_vm._u([{key:\"default\",fn:function({ handleSubmit }){return [_c('form',{staticClass:\"mt-4\",attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.onSubmit)}}},[_c('ValidationProvider',{attrs:{\"vid\":\"email\",\"name\":\"E-mail\",\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"emailInput\"}},[_vm._v(\"Email address\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],class:'form-control mb-0' + (errors.length > 0 ? ' is-invalid' : ''),attrs:{\"type\":\"email\",\"id\":\"emailInput\",\"aria-describedby\":\"emailHelp\",\"placeholder\":\"Enter email\",\"required\":\"\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.user, \"email\", $event.target.value)}}}),_c('div',{staticClass:\"invalid-feedback\"},[_c('span',[_vm._v(_vm._s(errors[0]))])])])]}}],null,true)}),_c('ValidationProvider',{attrs:{\"vid\":\"password\",\"name\":\"Password\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"passwordInput\"}},[_vm._v(\"Password\")]),_c('router-link',{staticClass:\"float-right\",attrs:{\"to\":\"/auth/password-reset1\"}},[_vm._v(\" Forgot password? \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],class:'form-control mb-0' + (errors.length > 0 ? ' is-invalid' : ''),attrs:{\"type\":\"password\",\"id\":\"passwordInput\",\"placeholder\":\"Password\",\"required\":\"\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.user, \"password\", $event.target.value)}}}),_c('div',{staticClass:\"invalid-feedback\"},[_c('span',{attrs:{\"id\":\"crederror\"}},[_vm._v(_vm._s(errors[0]))])])],1)]}}],null,true)}),_c('div',{staticClass:\"d-inline-block w-100\"},[_c('div',{staticClass:\"custom-control custom-checkbox d-inline-block mt-2 pt-1\"},[_c('input',{staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":_vm.formType}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":_vm.formType}},[_vm._v(\"Remember Me\")])]),_c('button',{staticClass:\"btn btn-primary float-right\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Sign in\")])]),_c('div',{staticClass:\"sign-info\"},[_c('span',{staticClass:\"dark-color d-inline-block line-height-2\"},[_vm._v(\" Don't have an account? \"),(_vm.$route.meta.dark)?_c('router-link',{staticClass:\"iq-waves-effect pr-4\",attrs:{\"to\":\"/dark/auth/clinic-sign-up\"}},[_vm._v(\" Sign up \")]):_c('router-link',{staticClass:\"iq-waves-effect pr-4\",attrs:{\"to\":\"/auth/clinic-sign-up\"}},[_vm._v(\" Sign up \")])],1),_c('social-login-form')],1)],1)]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ValidationObserver ref=\"form\" v-slot=\"{ handleSubmit }\">\n    <form class=\"mt-4\" novalidate @submit.prevent=\"handleSubmit(onSubmit)\">\n      <ValidationProvider vid=\"email\" name=\"E-mail\" rules=\"required|email\" v-slot=\"{ errors }\">\n        <div class=\"form-group \">\n          <label for=\"emailInput\">Email address</label>\n          <input type=\"email\" :class=\"'form-control mb-0' + (errors.length > 0 ? ' is-invalid' : '')\" id=\"emailInput\"\n            aria-describedby=\"emailHelp\" v-model=\"user.email\" placeholder=\"Enter email\" required>\n          <div class=\"invalid-feedback\">\n            <span>{{ errors[0] }}</span>\n          </div>\n        </div>\n      </ValidationProvider>\n      <ValidationProvider vid=\"password\" name=\"Password\" rules=\"required\" v-slot=\"{ errors }\">\n        <div class=\"form-group\">\n          <label for=\"passwordInput\">Password</label>\n          <router-link to=\"/auth/password-reset1\" class=\"float-right\">\n            Forgot password?\n          </router-link>\n          <input type=\"password\" :class=\"'form-control mb-0' + (errors.length > 0 ? ' is-invalid' : '')\" id=\"passwordInput\"\n            v-model=\"user.password\" placeholder=\"Password\" required>\n          <div class=\"invalid-feedback\">\n            <span id=\"crederror\">{{ errors[0] }}</span>\n          </div>\n        </div>\n      </ValidationProvider>\n      <div class=\"d-inline-block w-100\">\n        <div class=\"custom-control custom-checkbox d-inline-block mt-2 pt-1\">\n          <input type=\"checkbox\" class=\"custom-control-input\" :id=\"formType\">\n          <label class=\"custom-control-label\" :for=\"formType\">Remember Me</label>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary float-right\">Sign in</button>\n      </div>\n      <div class=\"sign-info\">\n        <span class=\"dark-color d-inline-block line-height-2\">\n          Don't have an account?\n          <router-link to=\"/dark/auth/clinic-sign-up\" class=\"iq-waves-effect pr-4\" v-if=\"$route.meta.dark\">\n            Sign up\n          </router-link>\n          <router-link to=\"/auth/clinic-sign-up\" class=\"iq-waves-effect pr-4\" v-else>\n            Sign up\n          </router-link>\n        </span>\n        <social-login-form></social-login-form>\n      </div>\n    </form>\n  </ValidationObserver>\n</template>\n\n<script>\nimport SocialLoginForm from './SocialLoginForm'\nimport { mapActions, mapGetters } from 'vuex'\nimport auth from '../../../../services/auth'\nimport users from '../../../../services/user'\nimport clinics from '../../../../services/clinic'\nimport parse from '../../../../Utils/parse'\n\nexport default {\n  name: 'SignIn1Form',\n  components: { SocialLoginForm },\n  props: ['formType', 'email', 'password'],\n  data: () => ({\n    user: {\n      email: '',\n      password: ''\n    },\n    host: window.location.hostname + (window.location.port !== '' ? ':' + window.location.port : ''),\n    protocol: window.location.protocol\n  }),\n  mounted () {\n  },\n  computed: {\n    ...mapGetters({\n      stateUsers: 'Setting/usersState',\n      userState: 'User/userState',\n      accessToken: 'Auth/authToken'\n    })\n  },\n  methods: {\n    ...mapActions({\n      setLoggedIn: 'Auth/setToken',\n      setUserState: 'User/setUserState',\n      setClinicState: 'Clinic/setClinicState',\n      setClinicalUnitsState: 'Clinic/setClinicalUnitsState'\n    }),\n    async onSubmit () {\n      await this.login()\n    },\n    async login () {\n      console.log(this.user)\n      let token = await auth.login(this.user)\n      console.log(token)\n      if (token) {\n        this.setLoggedIn(token.data.accessToken)\n        let { id, clinicId } = parse.jwtToObject(token.data.accessToken)\n\n        let user = await users.getById(id)\n        let clinic = await clinics.getById(clinicId)\n\n        this.setUserState(user.data)\n        this.setClinicState(clinic.data)\n        this.setClinicalUnitsState(clinic.data.clinicalUnits)\n        // console.log(window.location.host, 'host', this.userState, clinic.data)\n        // this.$cookies.set('token', token.data.accessToken, null, false, 'localhost', 'None')\n        // let hostWithSubDomain = this.protocol + '//' + clinic.data.alias + '.' + this.host\n        // window.location.href = hostWithSubDomain\n        console.log('host')\n        this.$router.push({ name: 'dashboard.home-1' })\n      } else {\n        document.getElementById('emailInput').className += ' is-invalid'\n        document.getElementById('passwordInput').className += ' is-invalid'\n        document.getElementById('crederror').innerHTML = ' Invalid Credentials'\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn1Form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn1Form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignIn1Form.vue?vue&type=template&id=3433e1a2&\"\nimport script from \"./SignIn1Form.vue?vue&type=script&lang=js&\"\nexport * from \"./SignIn1Form.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <h1 class=\"mb-0\">Sign in</h1>\n    <p>Enter your email address and password to access admin panel.</p>\n    <sign-in1-form formType=\"jwt\" email=\"admin@xray.com\" password=\"admin123\"></sign-in1-form>\n  </div>\n</template>\n\n<script>\nimport auth0 from 'auth0-js'\nimport SignIn1Form from './Forms/SignIn1Form'\nimport constant from '../../../config/constant'\n\nexport default {\n  name: 'SignIn1',\n  components: { SignIn1Form },\n  data: () => ({}),\n  mounted () {\n    const loggedIn = localStorage.getItem('access_token')\n    if (loggedIn !== undefined && loggedIn !== null) {\n      this.$router.push({ name: 'mini.dashboard.home-2' })\n    }\n  },\n  methods: {\n    loginOAuth0: function () {\n      new auth0.WebAuth(constant.auth0Config).authorize()\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn1.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn1.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignIn1.vue?vue&type=template&id=ad7af034&\"\nimport script from \"./SignIn1.vue?vue&type=script&lang=js&\"\nexport * from \"./SignIn1.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from './index'\n// import store from '../store/index'\n\nexport default {\n  login (userData) {\n    return axios.post('/auth/login', userData)// .then(res => store.dispatch('Auth/setToken', res.data.accessToken))\n      .catch(() => false)\n  },\n  register (userData) {\n    return axios.post('/auth/register', userData)\n  }\n}\n"],"sourceRoot":""}