(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ca8498c"],{"1dac":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticClass:"mb-0"},[t._v("Sign in")]),e("p",[t._v("Enter your email address and password to access admin panel.")]),e("sign-in1-form",{attrs:{formType:"jwt",email:"admin@xray.com",password:"admin123"}})],1)},i=[],o=a("b0af"),n=function(){var t=this,e=t._self._c;return e("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{staticClass:"mt-4",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),a(t.onSubmit)}}},[e("ValidationProvider",{attrs:{vid:"email",name:"E-mail",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"emailInput"}},[t._v("Email address")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],class:"form-control mb-0"+(a.length>0?" is-invalid":""),attrs:{type:"email",id:"emailInput","aria-describedby":"emailHelp",placeholder:"Enter email",required:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[e("span",[t._v(t._s(a[0]))])])])]}}],null,!0)}),e("ValidationProvider",{attrs:{vid:"password",name:"Password",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"passwordInput"}},[t._v("Password")]),e("router-link",{staticClass:"float-right",attrs:{to:"/auth/password-reset1"}},[t._v(" Forgot password? ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],class:"form-control mb-0"+(a.length>0?" is-invalid":""),attrs:{type:"password",id:"passwordInput",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[e("span",{attrs:{id:"crederror"}},[t._v(t._s(a[0]))])])],1)]}}],null,!0)}),e("div",{staticClass:"d-inline-block w-100"},[e("div",{staticClass:"custom-control custom-checkbox d-inline-block mt-2 pt-1"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:t.formType}}),e("label",{staticClass:"custom-control-label",attrs:{for:t.formType}},[t._v("Remember Me")])]),e("button",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"}},[t._v("Sign in")])]),e("div",{staticClass:"sign-info"},[e("span",{staticClass:"dark-color d-inline-block line-height-2"},[t._v(" Don't have an account? "),t.$route.meta.dark?e("router-link",{staticClass:"iq-waves-effect pr-4",attrs:{to:"/dark/auth/clinic-sign-up"}},[t._v(" Sign up ")]):e("router-link",{staticClass:"iq-waves-effect pr-4",attrs:{to:"/auth/clinic-sign-up"}},[t._v(" Sign up ")])],1),e("social-login-form")],1)],1)]}}])})},r=[],l=a("1363"),c=a("2f62"),d=a("6bf2"),u=a("93d6"),m=a("8925"),p=a("0be0"),f={name:"SignIn1Form",components:{SocialLoginForm:l["a"]},props:["formType","email","password"],data:()=>({user:{email:"",password:""},host:window.location.hostname+(""!==window.location.port?":"+window.location.port:""),protocol:window.location.protocol}),mounted(){},computed:{...Object(c["c"])({stateUsers:"Setting/usersState",userState:"User/userState",accessToken:"Auth/authToken"})},methods:{...Object(c["b"])({setLoggedIn:"Auth/setToken",setUserState:"User/setUserState",setClinicState:"Clinic/setClinicState",setClinicalUnitsState:"Clinic/setClinicalUnitsState"}),async onSubmit(){await this.login()},async login(){console.log(this.user);let t=await d["a"].login(this.user);if(console.log(t),t){this.setLoggedIn(t.data.accessToken);let{id:e,clinicId:a}=p["a"].jwtToObject(t.data.accessToken),s=await u["a"].getById(e),i=await m["a"].getById(a);this.setUserState(s.data),this.setClinicState(i.data),this.setClinicalUnitsState(i.data.clinicalUnits),console.log("host"),this.$router.push({name:"dashboard.home-1"})}else document.getElementById("emailInput").className+=" is-invalid",document.getElementById("passwordInput").className+=" is-invalid",document.getElementById("crederror").innerHTML=" Invalid Credentials"}}},v=f,g=a("2877"),h=Object(g["a"])(v,n,r,!1,null,null,null),w=h.exports,b=a("358c"),S={name:"SignIn1",components:{SignIn1Form:w},data:()=>({}),mounted(){const t=localStorage.getItem("access_token");void 0!==t&&null!==t&&this.$router.push({name:"mini.dashboard.home-2"})},methods:{loginOAuth0:function(){new o["a"].WebAuth(b["a"].auth0Config).authorize()}}},C=S,k=Object(g["a"])(C,s,i,!1,null,null,null);e["default"]=k.exports},"6bf2":function(t,e,a){"use strict";var s=a("dde5");e["a"]={login(t){return s["a"].post("/auth/login",t).catch(()=>!1)},register(t){return s["a"].post("/auth/register",t)}}}}]);
//# sourceMappingURL=chunk-4ca8498c.bbcef04a.js.map