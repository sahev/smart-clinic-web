(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c7712f92"],{1363:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"iq-social-media"},t._l(t.socialProviders,(function(s,a){return e("li",{key:a},[e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.socialLogin(s.type)}}},[e("i",{class:s.icon})])])})),0)},i=[],o=s("2f62"),n=(s("6bf2"),s("93d6")),r=s("8925"),l=(s("0be0"),{name:"SocialLoginForm",data:()=>({socialProviders:[{type:"google",icon:"ri-google-line"},{type:"facebook",icon:"ri-facebook-box-line"}]}),async created(){},computed:{...Object(o["c"])({stateUsers:"Setting/usersState",userState:"User/userState",accessToken:"Auth/authToken"})},methods:{...Object(o["b"])({setLoggedIn:"Auth/setToken",setUserState:"User/setUserState",setClinicState:"Clinic/setClinicState",setClinicalUnitsState:"Clinic/setClinicalUnitsState"}),handleCallback(t){console.log("resp jwt ",t)},async handleClickUpdateScope(){const t=new window.gapi.auth2.SigninOptionsBuilder;t.setScope("email https://www.googleapis.com/auth/drive.file");const e=this.$gAuth.GoogleAuth.currentUser.get();try{await e.grant(t),console.log("success")}catch(s){console.error(s)}},handleClickLogin(){this.$gAuth.getAuthCode().then(t=>{console.log("authCode",t)}).catch(t=>{})},async handleClickSignIn(){try{const t=await this.$gAuth.signIn();if(!t)return null;let e=t.getBasicProfile().mw;console.log("getBasicProfile",t.getBasicProfile()),console.log("getAuthResponse",t.getAuthResponse());let s=t.getAuthResponse().id_token,{data:a}=await n["a"].emailExists(e);console.log(e,"mail",a),a?(console.log("email existe"),this.setGoogleLogin(userId,s)):(window.document.getElementById("emailInput").className+=" is-invalid",window.document.getElementById("passwordInput").className+=" is-invalid",window.document.getElementById("crederror").innerHTML=" Invalid Credentials")}catch(t){return console.error(t),null}},async setGoogleLogin(t,e){this.setLoggedIn(e);let s=await n["a"].getById(t),a=await r["a"].getById(s.clinicId);this.setUserState(s.data),this.setClinicState(a.data),this.setClinicalUnitsState(a.data.clinicalUnits),this.$router.push({name:"dashboard.home-1"})},async handleClickSignOut(){try{await this.$gAuth.signOut(),this.isSignIn=this.$gAuth.isAuthorized,console.log("isSignIn",this.$gAuth.isAuthorized)}catch(t){console.error(t)}},handleClickDisconnect(){window.location.href="https://www.google.com/accounts/Logout?continue=https://appengine.google.com/_ah/logout?continue="+window.location.href},async socialLogin(t){this.handleClickSignIn()}}}),c=l,u=s("2877"),d=Object(u["a"])(c,a,i,!1,null,null,null);e["a"]=d.exports},"462f":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticClass:"mb-0"},[t._v("Sign Up")]),e("p",[t._v("Enter your email address and password to access admin panel.")]),e("sign-up1-form",{attrs:{formType:"jwt"}})],1)},i=[],o=function(){var t=this,e=t._self._c;return e("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:s}){return[e("form",{staticClass:"mt-4",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),s(t.onSubmit)}}},[e("ValidationProvider",{attrs:{vid:"name",name:"Full Name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Your Full Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],class:"form-control mb-0"+(s.length>0?" is-invalid":""),attrs:{type:"text",id:"name","aria-describedby":"emailHelp",placeholder:"Your Full Name"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[e("span",[t._v(t._s(s[0]))])])])]}}],null,!0)}),e("ValidationProvider",{attrs:{vid:"name",name:"Email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"email"}},[t._v("Email address")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],class:"form-control mb-0"+(s.length>0?" is-invalid":""),attrs:{type:"email",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[e("span",[t._v(t._s(s[0]))])])])]}}],null,!0)}),e("ValidationProvider",{attrs:{vid:"password",name:"Password",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"password"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],class:"form-control mb-0"+(s.length>0?" is-invalid":""),attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[e("span",[t._v(t._s(s[0]))])])])]}}],null,!0)}),e("div",{staticClass:"d-inline-block w-100"},[e("div",{staticClass:"custom-control custom-checkbox d-inline-block mt-2 pt-1"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:t.formType}}),e("label",{staticClass:"custom-control-label",attrs:{for:t.formType}},[t._v("I accept "),e("a",{attrs:{href:"#"}},[t._v("Terms and Conditions")])])]),e("button",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"}},[t._v("Sign Up")])]),e("div",{staticClass:"sign-info"},[e("span",{staticClass:"dark-color d-inline-block line-height-2"},[t._v(" Already Have Account ? "),t.$route.meta.dark?e("router-link",{staticClass:"iq-waves-effect pr-4",attrs:{to:"/dark/auth/sign-in1"}},[t._v(" Sign in ")]):e("router-link",{staticClass:"iq-waves-effect pr-4",attrs:{to:"/auth/sign-in1"}},[t._v(" Sign in ")])],1),e("social-login-form")],1)],1)]}}])})},n=[],r=s("6bf2"),l=s("1363"),c=s("2f62"),u={name:"SignUp1Form",components:{SocialLoginForm:l["a"]},props:["formType"],computed:{...Object(c["c"])({users:"Setting/usersState"})},data:()=>({user:{email:"",password:""}}),methods:{onSubmit(){"passport"===this.formType?this.passportRegister():"jwt"===this.formType&&this.jwtRegister()},jwtRegister(){this.$store.dispatch("Setting/addUserAction",this.user),this.$router.replace("/auth/sign-in1")},passportRegister(){r["a"].register(this.user).then(t=>{t.status?this.$router.push("/auth/sign-in1"):t.data.errors.length>0&&this.$refs.form.setErrors(t.data.errors)}).finally(()=>{this.loading=!1})}}},d=u,m=s("2877"),p=Object(m["a"])(d,o,n,!1,null,null,null),g=p.exports,h=s("b0af"),f=s("358c"),v={name:"SignUp1",components:{SignUp1Form:g},data:()=>({}),methods:{loginOAuth0(){new h["a"].WebAuth(f["a"].auth0Config).authorize()}}},w=v,b=Object(m["a"])(w,a,i,!1,null,null,null);e["default"]=b.exports},"6bf2":function(t,e,s){"use strict";var a=s("dde5");e["a"]={login(t){return a["a"].post("/auth/login",t).catch(()=>!1)},register(t){return a["a"].post("/auth/register",t)}}}}]);
//# sourceMappingURL=chunk-c7712f92.34a62c7f.js.map